# trim down to SLD.TLD and sort while removing dupes
tr '[:upper:]' '[:lower:]' | sed 's/^https:\/\///g' | cut -d "/" -f1 | sed 's/^www[0-9]*\.//g' | sort -u

# trim down src/urls.txt to SLD.TLD and sort while removing dupes
tr '[:upper:]' '[:lower:]' < src/urls.txt | sed 's/^https:\/\///g' | cut -d "/" -f1 | sed 's/^www[0-9]*\.//g' | sort -u > $$ && mv $$ src/urls.txt

# add ublock filter syntax
awk '{print "||"$0"^$all"}'

# generate ublock filter list from src/urls.txt
cat src/ublock-header.txt <(awk '{print "||"$0"^$all"}' src/urls.txt) > ublock.txt
